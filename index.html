<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Harvard Crimson Newsroom</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --crimson:#a51c30;
  --muted:#666;
  --line:#e6e6e6;
  --soft:#fafafa;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Georgia,"Times New Roman",serif;
  background:#fff;
  color:#111;
  height:100vh;
  overflow:hidden;
}

/* Layout */
.container{
  display:grid;
  grid-template-columns:1.2fr 1.4fr 1fr;
  height:100%;
  padding:14px;
  gap:14px;
}
.section-title{
  font-size:13px;
  letter-spacing:1.5px;
  text-transform:uppercase;
  color:var(--muted);
  margin:6px 0 4px 0;
}

/* LEFT */
.left-col{
  display:flex;
  flex-direction:column;
  height:100%;
  gap:6px;
}
.logo{color:var(--crimson);font-weight:bold;font-size:20px}
.welcome{font-size:16px;margin-top:-4px}
.time{font-size:96px;color:var(--crimson);line-height:.95}
.date{font-size:22px;color:var(--muted)}

.calendar-card{
  background:var(--soft);
  border-radius:10px;
  padding:8px 10px;
  display:flex;
  flex-direction:column;
  gap:4px;
  flex:1;
  min-height:0;
}
.events-list{overflow:auto;padding-right:2px}
.event{
  font-size:17px;
  padding:5px 0;
  border-bottom:1px solid var(--line);
}
.event:last-child{border-bottom:none}

/* Spotify */
.spotify-wrap{
  border-radius:10px;
  overflow:hidden;
  height:120px;
  position:relative;
}
.spotify-wrap iframe{
  width:100%;
  height:100%;
  border:0;
  display:block;
}

/* invisible overlay */
.music-overlay{
  position:absolute;
  inset:0;
  z-index:5;
  background:transparent;
}

/* CENTER */
.center-box{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  height:100%;
}
.rotating-text{
  font-size:36px;
  max-width:90%;
  transition:opacity .4s;
}

/* RIGHT */
.right-col{
  display:flex;
  flex-direction:column;
  height:100%;
  gap:4px;
}
.proofer-name{font-size:26px;color:var(--crimson);font-weight:bold}
.countdown{font-size:30px;font-weight:bold}
.crimson-feed{margin-top:6px;flex:1;display:flex}
.crimson-feed iframe{
  width:100%;
  height:100%;
  border-radius:8px;
  border:1px solid var(--line);
}
</style>
</head>

<body>
<div class="container">

<!-- LEFT -->
<div class="left-col">
  <div class="logo">THE HARVARD CRIMSON</div>
  <div class="welcome">Welcome back to 14P!</div>

  <div class="time" id="time">--:--</div>
  <div class="date" id="date"></div>

  <div class="calendar-card">
    <div class="section-title">Upcoming</div>
    <div class="events-list" id="events"></div>
  </div>

  <div class="spotify-wrap">
    <div id="musicOverlay" class="music-overlay"></div>
    <iframe id="spotifyFrame"
      src="https://open.spotify.com/embed/playlist/6ZTkxn7qyBtvLqWBmQeaUn"
      allow="autoplay; encrypted-media; clipboard-write; fullscreen; picture-in-picture">
    </iframe>
  </div>
</div>

<!-- CENTER -->
<div>
  <div class="center-box">
    <div class="section-title">Thank You Bot</div>
    <div class="rotating-text" id="rotatingText"></div>
  </div>
</div>

<!-- RIGHT -->
<div class="right-col">
  <div class="section-title">Proofer of the Day</div>
  <div class="proofer-name" id="proofer"></div>

  <div class="section-title">Four Fig (12:59 AM)</div>
  <div class="countdown" id="countdown"></div>

  <div class="section-title">Latest from the Crimson</div>
  <div class="crimson-feed">
    <script src="https://cdn.lightwidget.com/widgets/lightwidget.js"></script>
    <iframe src="https://cdn.lightwidget.com/widgets/d96bb35398d75ecf8aa4496966aa2bea.html"></iframe>
  </div>
</div>

</div>

<script>
// Time
function updateTime(){
  const n=new Date();
  let h=n.getHours(), m=n.getMinutes().toString().padStart(2,"0");
  h=h%12||12;
  document.getElementById("time").textContent=`${h}:${m}`;
  document.getElementById("date").textContent=
    n.toLocaleDateString(undefined,{weekday:"short",month:"short",day:"numeric"});
}
setInterval(updateTime,1000); updateTime();

// Events
const events=[
 "Jan 21 — Super Bowl Watch Party",
 "Jan 22 — Grad Co Meeting",
 "Jan 24 — Features Brainstorm",
 "Jan 26 — Layout Training",
 "Jan 28 — Print Party",
 "Feb 02 — News Standup",
 "Feb 05 — Photo Assignments",
 "Feb 08 — Pizza Party"
];
const ev=document.getElementById("events");
events.forEach(e=>{
  const d=document.createElement("div");
  d.className="event";
  d.textContent=e;
  ev.appendChild(d);
});

// Thank You Bot
const messages=[
 "Thanks to the copy desk.",
 "Shoutout to layout team.",
 "Appreciation for photographers.",
 "Editors holding it down.",
 "Welcome back to the grind."
];
let i=0;
const rot=document.getElementById("rotatingText");
function rotate(){
  rot.style.opacity=0;
  setTimeout(()=>{
    rot.textContent=messages[i];
    rot.style.opacity=1;
    i=(i+1)%messages.length;
  },300);
}
rotate(); setInterval(rotate,7000);

// Proofer
const proofers=["LP Chavez","Dhruv Patel","Matteo Diaz"];
document.getElementById("proofer").textContent=
  proofers[Math.floor(Math.random()*proofers.length)];

// Countdown
function updateCountdown(){
  const now=new Date();
  const t=new Date();
  t.setHours(0,59,0,0);
  if(now>t) t.setDate(t.getDate()+1);
  const d=t-now;
  const h=Math.floor(d/3600000),
        m=Math.floor(d%3600000/60000),
        s=Math.floor(d%60000/1000);
  document.getElementById("countdown").textContent=
    `${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
}
setInterval(updateCountdown,1000); updateCountdown();

// ENTER to start music
const overlay=document.getElementById("musicOverlay");
const frame=document.getElementById("spotifyFrame");
function startMusic(){
  frame.src = frame.src + "?autoplay=1";
  overlay.style.display="none";
}
document.addEventListener("keydown",e=>{
  if(e.key==="Enter") startMusic();
});
overlay.onclick=startMusic;
</script>
</body>
</html>