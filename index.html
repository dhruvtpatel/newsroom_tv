<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Crimson Newsroom</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --crimson:#a51c30;
  --muted:#777;
  --line:#e6e6e6;
  --card:#f7f7f7;
}
*{box-sizing:border-box}

html, body{
  height:100%;
}

body{
  margin:0;
  font-family:Georgia,serif;
  background:#fff;
  overflow:hidden;
}

.container{
  display:grid;
  grid-template-columns:1.3fr 1.1fr 1fr;
  height:100%;
  padding:10px;
  gap:10px;
}

/* Shared */
.section-title{
  font-size:10px;
  letter-spacing:1.2px;
  text-transform:uppercase;
  color:var(--muted);
  margin-bottom:4px;
}
.card{
  background:var(--card);
  border-radius:10px;
  padding:8px;
}

/* LEFT */
.left{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.logo{color:var(--crimson);font-weight:bold;font-size:16px}
.welcome{font-size:12px}
.time{font-size:68px;color:var(--crimson);line-height:.95}
.date{font-size:14px;color:var(--muted)}

.spotify{
  flex:1;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
}
.spotify iframe{
  width:100%;
  height:100%;
  border:0;
}

/* MIDDLE — EXACTLY LIKE WORKING VERSION */
.middle{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.status{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.proofer-name{
  font-size:20px;
  color:var(--crimson);
  font-weight:bold;
}
.countdown{
  font-size:24px;
  font-weight:bold;
}
.feed{
  flex:1;
  border-radius:10px;
  overflow:hidden;
  border:1px solid var(--line);
}
.feed iframe{
  width:100%;
  height:100%;
  border:0;
}

/* RIGHT */
.right{
  display:flex;
  flex-direction:column;
  gap:8px;
  height:100%;
}

/* SCOOPS */
.scoops{
  text-align:center;
}
.scoops .num{
  font-size:44px;
  font-weight:bold;
  color:var(--crimson);
}
.rewards{
  margin-top:4px;
  font-size:11px;
}
.rewards div{
  padding:2px 0;
  border-top:1px solid var(--line);
}
.rewards div:first-child{border-top:none}

/* POLL — FILL TO BOTTOM */
.poll-box{
  flex:1;
  display:flex;
  flex-direction:column;
  min-height:0;
}
.poll-embed{
  flex:1;
  border-radius:8px;
  overflow:hidden;
}
.poll-embed iframe{
  width:100%;
  height:100%;
  border:0;
}
</style>
</head>

<body>
<div class="container">

<!-- LEFT -->
<div class="left">
  <div class="logo">THE HARVARD CRIMSON</div>
  <div class="welcome">Welcome back to 14P!</div>
  <div class="time" id="time"></div>
  <div class="date" id="date"></div>

  <div class="spotify">
    <iframe
      src="https://open.spotify.com/embed/playlist/2saZ9Jetcb5uwdxwlNKkdb"
      allow="autoplay; encrypted-media">
    </iframe>
  </div>
</div>

<!-- MIDDLE -->
<div class="middle">
  <div class="card status">
    <div class="section-title">Proofer of the Day</div>
    <div class="proofer-name" id="proofer"></div>

    <div class="section-title">Time Until Four Fig (12:59 AM)</div>
    <div class="countdown" id="countdown"></div>
  </div>

  <!-- IMPORTANT: keep this wrapper exactly -->
  <div>
    <div class="section-title">Latest from the Crimson</div>
    <div class="feed">
      <script src="https://cdn.lightwidget.com/widgets/lightwidget.js"></script>
      <iframe src="https://cdn.lightwidget.com/widgets/d96bb35398d75ecf8aa4496966aa2bea.html"></iframe>
    </div>
  </div>
</div>

<!-- RIGHT -->
<div class="right">

  <div class="card scoops">
    <div class="section-title">Scoops This Month</div>
    <div class="num">3</div>
    <div class="rewards">
      <div>5 scoops → Domino's for everyone</div>
      <div>10 scoops → Cam / Laurel get pied in the face</div>
      <div>15 scoops → Dhruv keg stand + sit-down dinner</div>
    </div>
  </div>

  <div class="card poll-box">
    <div class="section-title">Poll (tinyurl.com/crimsonpoll)</div>
    <div class="poll-embed">
      <iframe
        src="https://wall.sli.do/event/weWy7p7G3ogPbjwE4mr7Ao?section=9afe462b-12b0-4e93-bb38-0bb4abea182d"
        allowfullscreen
        loading="lazy">
      </iframe>
    </div>
  </div>

</div>
</div>

<script>
/* CLOCK */
function updateTime(){
  const n=new Date();
  let h=n.getHours(),m=n.getMinutes().toString().padStart(2,"0");
  h=h%12||12;
  time.textContent=`${h}:${m}`;
  date.textContent=n.toLocaleDateString(undefined,{
    weekday:"short",month:"short",day:"numeric"
  });
}
setInterval(updateTime,1000);updateTime();

/* PROOFER SCHEDULE */
const prooferSchedule = {
  "2026-01-26": "Elyse Goncalves",
  "2026-01-27":"Matan Josephy",
  "2026-01-28":"Darcy Lin",
  "2026-01-29":"Samuel A. Church",
  "2026-02-01":"Emily Schwartz",
  "2026-02-02":"Veronica Paulus",
  "2026-02-03":"Akshaya Ravi",
  "2026-02-04":"Annabel Yu",
  "2026-02-05":"William Mao",
  "2026-02-08":"Angelina Parker",
  "2026-02-09":"Grace E. Yoon",
  "2026-02-10":"Samuel A. Church",
  "2026-02-11":"Veronica Paulus",
  "2026-02-12":"Matan Josephy",
  "2026-02-15":"Danielle Im",
  "2026-02-16":"Darcy Lin",
  "2026-02-17":"Saketh Sundar",
  "2026-02-18":"Annabel Yu",
  "2026-02-19":"Emily Schwartz",
  "2026-02-22":"Elyse Goncalves",
  "2026-02-23":"Grace E. Yoon",
  "2026-02-24":"Matan Josephy",
  "2026-02-25":"Avani Rai",
  "2026-02-26":"Samuel A. Church",
  "2026-03-01":"Akshaya Ravi",
  "2026-03-02":"William Mao",
  "2026-03-03":"Annabel Yu",
  "2026-03-04":"Darcy Lin",
  "2026-03-05":"Emily Schwartz",
  "2026-03-08":"Elyse Goncalves",
  "2026-03-09":"Avani Rai",
  "2026-03-10":"Veronica Paulus",
  "2026-03-11":"Saketh Sundar",
  "2026-03-12":"William Mao",
  "2026-03-22":"Akshaya Ravi",
  "2026-03-23":"Elyse Goncalves",
  "2026-03-24":"Grace E. Yoon",
  "2026-03-25":"Annabel Yu",
  "2026-03-26":"Matan Josephy",
  "2026-03-29":"Angelina Parker",
  "2026-03-30":"Grace E. Yoon",
  "2026-03-31":"Samuel A. Church",
  "2026-04-01":"Avani Rai",
  "2026-04-02":"Emily Schwartz",
  "2026-04-05":"Saketh Sundar",
  "2026-04-06":"William Mao",
  "2026-04-07":"Elyse Goncalves",
  "2026-04-08":"Annabel Yu",
  "2026-04-09":"Samuel A. Church",
  "2026-04-12":"Emily Schwartz",
  "2026-04-13":"Veronica Paulus",
  "2026-04-14":"Matan Josephy",
  "2026-04-15":"Veronica Paulus",
  "2026-04-16":"William Mao",
  "2026-04-19":"Angelina Parker",
  "2026-04-20":"Darcy Lin",
  "2026-04-21":"Akshaya Ravi",
  "2026-04-22":"Grace E. Yoon",
  "2026-04-23":"Annabel Yu",
  "2026-04-26":"Avani Rai",
  "2026-04-27":"William Mao",
  "2026-04-28":"Angelina Parker",
  "2026-04-29":"Saketh Sundar",
  "2026-04-30":"Veronica Paulus",
  "2026-05-03":"Danielle Im",
  "2026-05-05":"Samuel A. Church"
};

/* PROOFER LOGIC — RESET AT 4 AM */
function updateProofer(){
  const now = new Date();
  const effectiveDate = new Date(now);
  if (now.getHours() < 4) {
    effectiveDate.setDate(effectiveDate.getDate() - 1);
  }
  const iso = effectiveDate.toISOString().slice(0,10);
  proofer.textContent = prooferSchedule[iso] || "—";
}
updateProofer();
setInterval(updateProofer, 60000);

/* COUNTDOWN */
function updateCountdown(){
  const now=new Date(),t=new Date();
  t.setHours(0,59,0,0);
  if(now>t)t.setDate(t.getDate()+1);
  const d=t-now;
  countdown.textContent=
    `${String(Math.floor(d/3600000)).padStart(2,"0")}:` +
    `${String(Math.floor(d%3600000/60000)).padStart(2,"0")}:` +
    `${String(Math.floor(d%60000/1000)).padStart(2,"0")}`;
}
setInterval(updateCountdown,1000);updateCountdown();
</script>

</body>
</html>